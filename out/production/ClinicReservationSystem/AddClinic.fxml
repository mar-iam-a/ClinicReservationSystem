<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.*?>

<ScrollPane xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.AddClinicController"
            fitToWidth="true"
            maxHeight="600"
            style="-fx-background: white;">

    <BorderPane fx:id="contentPane" style="-fx-padding: 20;">

        <!-- Center: Steps Container -->
        <center>
            <StackPane fx:id="stepsContainer">

                <!-- STEP 1: Working Days & Schedule -->
                <VBox fx:id="Step1Container" spacing="20" maxWidth="450">

                    <VBox spacing="10">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Label text="Add Your Clinic" textFill="#222"
                                   style="-fx-font-size: 24; -fx-font-weight: bold;" />
                            <Region HBox.hgrow="ALWAYS" />
                            <Button text="Back" fx:id="backButtonStep1" onAction="#handleBackStep1"
                                    style="-fx-background-color: white; -fx-border-color: #15BF8F;
                                           -fx-text-fill: #15BF8F;" maxWidth="120"/>
                        </HBox>
                    </VBox>

                    <Label text="Step 1: Select Working Days &amp; Slot Duration"
                           style="-fx-font-size: 18; -fx-font-weight: bold;" />

                    <VBox spacing="10">
                        <Label text="Slot Duration (minutes)" style="-fx-font-weight: bold;" />
                        <TextField fx:id="slotDurationField" promptText="e.g. 15, 20, 30" prefWidth="200" />
                    </VBox>

                    <Label text="Select Working Days &amp; Times" style="-fx-font-weight: bold;" />
                    <VBox spacing="12">
                        <!-- Saturday -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <CheckBox fx:id="satCheck" text="Saturday" />
                            <Label text="From:" />
                            <TextField fx:id="satStart" prefWidth="70" promptText="09:00" />
                            <Label text="To:" />
                            <TextField fx:id="satEnd" prefWidth="70" promptText="17:00" />
                        </HBox>
                        <!-- Sunday -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <CheckBox fx:id="sunCheck" text="Sunday" />
                            <Label text="From:" />
                            <TextField fx:id="sunStart" prefWidth="70" promptText="09:00" />
                            <Label text="To:" />
                            <TextField fx:id="sunEnd" prefWidth="70" promptText="17:00" />
                        </HBox>
                        <!-- Monday -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <CheckBox fx:id="monCheck" text="Monday" />
                            <Label text="From:" />
                            <TextField fx:id="monStart" prefWidth="70" promptText="09:00" />
                            <Label text="To:" />
                            <TextField fx:id="monEnd" prefWidth="70" promptText="17:00" />
                        </HBox>
                        <!-- Tuesday -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <CheckBox fx:id="tueCheck" text="Tuesday" />
                            <Label text="From:" />
                            <TextField fx:id="tueStart" prefWidth="70" promptText="09:00" />
                            <Label text="To:" />
                            <TextField fx:id="tueEnd" prefWidth="70" promptText="17:00" />
                        </HBox>
                        <!-- Wednesday -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <CheckBox fx:id="wedCheck" text="Wednesday" />
                            <Label text="From:" />
                            <TextField fx:id="wedStart" prefWidth="70" promptText="09:00" />
                            <Label text="To:" />
                            <TextField fx:id="wedEnd" prefWidth="70" promptText="17:00" />
                        </HBox>
                        <!-- Thursday -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <CheckBox fx:id="thuCheck" text="Thursday" />
                            <Label text="From:" />
                            <TextField fx:id="thuStart" prefWidth="70" promptText="09:00" />
                            <Label text="To:" />
                            <TextField fx:id="thuEnd" prefWidth="70" promptText="17:00" />
                        </HBox>
                        <!-- Friday -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <CheckBox fx:id="friCheck" text="Friday" />
                            <Label text="From:" />
                            <TextField fx:id="friStart" prefWidth="70" promptText="09:00" />
                            <Label text="To:" />
                            <TextField fx:id="friEnd" prefWidth="70" promptText="17:00" />
                        </HBox>
                    </VBox>

                    <Button text="Next" fx:id="nextButton" onAction="#handleNextStep"
                            style="-fx-background-color: #15BF8F; -fx-text-fill: white;
                                   -fx-font-weight: bold;"
                            prefWidth="200" />

                </VBox>

                <!-- STEP 2: Clinic Info -->
                <VBox fx:id="Step2Container" spacing="20" alignment="TOP_LEFT" maxWidth="450" visible="false">

                    <VBox spacing="10">
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Label text="Add Your Clinic" textFill="#222"
                                   style="-fx-font-size: 24; -fx-font-weight: bold;" />
                            <Region HBox.hgrow="ALWAYS" />
                            <Button text="Back" fx:id="backButtonStep2" onAction="#handleBackStep2"
                                    style="-fx-background-color: white; -fx-border-color: #15BF8F;
                                           -fx-text-fill: #15BF8F;" maxWidth="120"/>
                        </HBox>
                    </VBox>

                    <Label text="Step 2: Clinic Information"
                           style="-fx-font-size: 18; -fx-font-weight: bold;" />

                    <VBox spacing="15">
                        <Label text="Clinic Name" style="-fx-font-weight: bold;" />
                        <TextField fx:id="nameField" promptText="Clinic Name" prefWidth="300" />

                        <Label text="Clinic Address" style="-fx-font-weight: bold;" />
                        <HBox spacing="10">
                            <TextField fx:id="addressField" promptText=" (e.g.:Nasr City, Cairo)" prefWidth="300" />
                            <Button fx:id="openMapButton" text="ðŸ“"
                                    style="-fx-background-color: #4285f4; -fx-text-fill: white;"
                                    onAction="#handleOpenMap">
                                <tooltip>
                                    <Tooltip text="Open location on google maps" />
                                </tooltip>
                            </Button>
                        </HBox>
                        <Label fx:id="addressStatusLabel" text="" style="-fx-font-size: 12; -fx-text-fill: #666;" />

                        <Label text="Visit Price (EGP)" style="-fx-font-weight: bold;" />
                        <TextField fx:id="priceField" promptText="e.g. 500.00" prefWidth="300" />
                    </VBox>

                    <VBox spacing="15">
                        <Label text="Department" style="-fx-font-weight: bold;" />
                        <ComboBox fx:id="departmentComboBox" prefWidth="300" promptText="Select Department" />
                    </VBox>

                    <!-- âœ… Consultation System Section -->
                    <VBox spacing="15">
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <CheckBox fx:id="enableConsultationCheck" text="Enable Consultation System" />
                            <Label fx:id="consultationHintLabel"
                                   text="ðŸ’¡ Patients can book consultations within this period after a visit."
                                   style="-fx-font-size: 12; -fx-text-fill: #666;"
                                   visible="false" />
                        </HBox>

                        <HBox fx:id="consultationFieldsBox"
                              spacing="20"
                              visible="false"
                              managed="false"
                              alignment="CENTER_LEFT">
                            <VBox spacing="5">
                                <Label text="Consultation Price (EGP)" style="-fx-font-size: 13;" />
                                <TextField fx:id="consultationPriceField" promptText="e.g. 200.00" prefWidth="140" />
                            </VBox>
                            <VBox spacing="5">
                                <Label text="Consultation Validity (Days)" style="-fx-font-size: 13;" />
                                <TextField fx:id="consultationValidityField" promptText="e.g. 7" prefWidth="100" />
                            </VBox>
                        </HBox>
                    </VBox>

                    <Button text="Add Clinic" fx:id="addClinicButton" onAction="#handleAddClinic"
                            style="-fx-background-color: #15BF8F; -fx-text-fill: white;
                                   -fx-font-weight: bold;"
                            prefWidth="200" />

                </VBox>

            </StackPane>
        </center>

    </BorderPane>
</ScrollPane>